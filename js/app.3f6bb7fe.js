(function(){"use strict";var e={4753:function(e,n,t){var o=t(9242),i=t(3396);function r(e,n,t,o,r,s){const c=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(c)}var s=(0,i.aZ)({name:"App",beforeCreate(){document.title="RasBot"}}),c=t(89);const a=(0,c.Z)(s,[["render",r]]);var u=a,l=t(2483);const d={class:"home"};function v(e,n,t,o,r,s){const c=(0,i.up)("HeaderComponent"),a=(0,i.up)("JoyStickComponent");return(0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(c),(0,i.Wm)(a)])}const p={class:"header"};function h(e,n,t,o,r,s){const c=(0,i.up)("LogOutIconComponent");return(0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("div",{class:"logOutButton",title:"Log Out",onMouseenter:n[0]||(n[0]=e=>o.isHovered=!0),onMouseleave:n[1]||(n[1]=e=>o.isHovered=!1),onClick:n[2]||(n[2]=(...e)=>o.onLogOutClick&&o.onLogOutClick(...e))},[(0,i.Wm)(c,{size:"40px",color:o.color},null,8,["color"])],32)])}t(7658);const f={class:"LogOutIcon"},g=["fill","height","width"],m=(0,i.uE)('<g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g><g><g id="Sign_Out"><path d="M180.455,360.91H24.061V24.061h156.394c6.641,0,12.03-5.39,12.03-12.03s-5.39-12.03-12.03-12.03H12.03 C5.39,0.001,0,5.39,0,12.031V372.94c0,6.641,5.39,12.03,12.03,12.03h168.424c6.641,0,12.03-5.39,12.03-12.03 C192.485,366.299,187.095,360.91,180.455,360.91z"></path><path d="M381.481,184.088l-83.009-84.2c-4.704-4.752-12.319-4.74-17.011,0c-4.704,4.74-4.704,12.439,0,17.179l62.558,63.46H96.279 c-6.641,0-12.03,5.438-12.03,12.151c0,6.713,5.39,12.151,12.03,12.151h247.74l-62.558,63.46c-4.704,4.752-4.704,12.439,0,17.179 c4.704,4.752,12.319,4.752,17.011,0l82.997-84.2C386.113,196.588,386.161,188.756,381.481,184.088z"></path></g><g></g><g></g><g></g><g></g><g></g><g></g></g></g>',3),_=[m];function C(e,n,t,o,r,s){return(0,i.wg)(),(0,i.iD)("div",f,[((0,i.wg)(),(0,i.iD)("svg",{class:"svg",fill:o.fillColor,height:t.size,width:t.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384.971 384.971","xml:space":"preserve",stroke:"#ffffff"},_,8,g))])}var y={props:{size:{type:String,required:!0},color:{type:String,required:!1}},setup(e){const n=(0,i.Fl)((()=>e.color?e.color:"#ffffff"));return{fillColor:n}}};const w=(0,c.Z)(y,[["render",C]]);var b=w,I=t(4870),k={components:{LogOutIconComponent:b},setup(){let e=(0,I.iH)(!1);const n=(0,i.f3)("clientService"),t=(0,l.tv)(),o=(0,i.Fl)((()=>e.value?"red":"white"));function r(){n.isLoggedIn||t.push({name:"Connect"})}function s(){n.logOut(),r()}return(0,i.bv)((()=>r())),{color:o,isHovered:e,onLogOutClick:s}}};const S=(0,c.Z)(k,[["render",h],["__scopeId","data-v-f1328b9e"]]);var O=S,L=t(7139);const M={class:"joyStick"},E={ref:"ref_joyStickIn",class:"circleIn"};function B(e,n,t,o,r,s){return(0,i.wg)(),(0,i.iD)("div",M,[(0,i._)("div",{ref:"ref_joyStickOut",class:"circleOut",style:(0,L.j5)(o.circleOutStyle),onTouchstart:n[0]||(n[0]=(...e)=>o.onTouchStart&&o.onTouchStart(...e)),onTouchmove:n[1]||(n[1]=(...e)=>o.onTouchMove&&o.onTouchMove(...e)),onTouchend:n[2]||(n[2]=(...e)=>o.onPointerUp&&o.onPointerUp(...e)),onMousedown:n[3]||(n[3]=(...e)=>o.onMouseDown&&o.onMouseDown(...e)),onMousemove:n[4]||(n[4]=(...e)=>o.onMouseMove&&o.onMouseMove(...e)),onMouseup:n[5]||(n[5]=(...e)=>o.onPointerUp&&o.onPointerUp(...e))},[(0,i._)("div",E,null,512)],36)])}var H=t(7327);class T{constructor(e,n){(0,H.Z)(this,"top",void 0),(0,H.Z)(this,"left",void 0),this.left=e,this.top=n}}class D{constructor(e,n,t,o,i){(0,H.Z)(this,"_outerRadius",void 0),(0,H.Z)(this,"_innerRadius",void 0),(0,H.Z)(this,"_centerX",void 0),(0,H.Z)(this,"_centerY",void 0),this.init(e,n,t,o,i)}init(e,n,t,o,i){this._outerRadius=e,this._innerRadius=n,this._centerX=o+i/2,this._centerY=t+i/2}getPosition(e,n){const t=e-this._centerX,o=n-this._centerY,i=Math.sqrt(t*t+o*o);let r=t,s=o;if(!this._isPointerInside(i)){const e=Math.atan2(o,t);r=Math.cos(e)*(this._outerRadius-this._innerRadius-100),s=Math.sin(e)*(this._outerRadius-this._innerRadius-100)}return new T(r,s)}_isPointerInside(e){return e+100<=this._outerRadius-this._innerRadius}}var R={setup(){const e=(0,I.iH)(null),n=(0,I.iH)(null),t=(0,I.iH)(!1),o=(0,I.iH)(0),r=(0,I.iH)(0);let s=null;(0,i.Jd)((()=>{m()}));const c=(0,i.Fl)((()=>({"--left":o.value+"px","--top":r.value+"px"})));function a(e){l(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}function u(e){l(e.clientX,e.clientY)}function l(e,n){t.value=!0,f(),g(),_(e,n)}function d(e){p(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}function v(e){p(e.clientX,e.clientY)}function p(e,n){t.value&&_(e,n)}function h(){t.value=!1,o.value=0,r.value=0,m()}function f(){const t=e.value,o=n.value;if(!t||!o)return;const i=t.getBoundingClientRect(),r=o.getBoundingClientRect();s=new D(i.width,r.width,i.top,i.left,i.width)}function g(){document.addEventListener("resize",(()=>f())),document.addEventListener("touchmove",d),document.addEventListener("touchend",h),document.addEventListener("mousemove",v),document.addEventListener("mouseup",h)}function m(){document.removeEventListener("resize",(()=>f())),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",h),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",h)}function _(e,n){const t=s.getPosition(e,n);o.value=t.left,r.value=t.top}return{ref_joyStickIn:n,ref_joyStickOut:e,circleOutStyle:c,onTouchStart:a,onTouchMove:d,onMouseDown:u,onMouseMove:v,onPointerUp:h}}};const x=(0,c.Z)(R,[["render",B],["__scopeId","data-v-70cad31e"]]);var Z=x,j={components:{JoyStickComponent:Z,HeaderComponent:O},setup(){return{}}};const P=(0,c.Z)(j,[["render",v],["__scopeId","data-v-4903dac0"]]);var z=P,A=t.p+"img/logo.4d296a4f.png";const V=e=>((0,i.dD)("data-v-75261644"),e=e(),(0,i.Cn)(),e),X=V((()=>(0,i._)("div",{class:"imageSection"},[(0,i._)("img",{class:"image",alt:"Vue logo",src:A})],-1))),Y={class:"inputBoxSection"},q=V((()=>(0,i._)("label",{for:"robotId"},null,-1))),F={key:0,class:"connectMsg"},U={key:0,class:"connectionError"},J=V((()=>(0,i._)("div",{class:"errorTitleItem"}," Oops! It seems you're currently offline. ",-1))),W=V((()=>(0,i._)("div",{class:"errorSecondaryItem center"}," Please check your internet connection and try again. ",-1))),K=[J,W],G={key:1,class:"connectionError"},N=(0,i.uE)('<div class="errorTitleItem" data-v-75261644> Cannot establish a connection to RasBot. </div><div class="errorSecondaryItem" data-v-75261644> Possible reasons for the connection issue: </div><div class="errorSecondaryItem" data-v-75261644> 1. Please check if the RobotId is correct. </div><div class="errorSecondaryItem" data-v-75261644> 2. Ensure that RasBot is turned on. </div><div class="errorSecondaryItem" data-v-75261644> 3. Make sure RasBot is connected to the internet. </div><div class="errorSecondaryItem" data-v-75261644> Please verify these steps to resolve the connection problem. </div>',6),Q=[N];function $(e,n,t,r,s,c){const a=(0,i.up)("SpinnerComponent");return(0,i.wg)(),(0,i.iD)("div",{class:"loginComponent",onClick:n[5]||(n[5]=(...e)=>r.onClickLoginComponent&&r.onClickLoginComponent(...e))},[X,(0,i._)("div",Y,[q,(0,i.wy)((0,i._)("input",{class:"inputBox inputSection",type:"text",id:"robotId","onUpdate:modelValue":n[0]||(n[0]=e=>r.textInput=e),onKeyup:[n[1]||(n[1]=(0,o.D2)(((...e)=>r.onClickConnect&&r.onClickConnect(...e)),["enter"])),n[2]||(n[2]=(0,o.D2)(((...e)=>r.onTab&&r.onTab(...e)),["tab"]))],placeholder:"Robot ID"},null,544),[[o.nr,r.textInput]]),(0,i._)("div",{tabindex:"0",ref:"connectButton",class:(0,L.C_)(["submitButton inputSection",{canConnect:r.canConnect}]),onClick:n[3]||(n[3]=(...e)=>r.onClickConnect&&r.onClickConnect(...e)),onKeyup:n[4]||(n[4]=(0,o.D2)(((...e)=>r.onClickConnect&&r.onClickConnect(...e)),["enter"]))},[r.isValidating?((0,i.wg)(),(0,i.j4)(a,{key:1,class:"spinner","is-loading":r.isValidating,"spinner-size":"20px"},null,8,["is-loading"])):((0,i.wg)(),(0,i.iD)("div",F,"Connect"))],34)]),r.hasError?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,L.C_)(["errorSection",{largeError:!r.hasInternetConnectionError}])},[(0,i._)("div",{class:(0,L.C_)(["errorWrapper",{isErrorReady:r.canRemoveError}])},[r.hasInternetConnectionError?((0,i.wg)(),(0,i.iD)("div",U,K)):((0,i.wg)(),(0,i.iD)("div",G,Q))],2)],2)):(0,i.kq)("",!0)])}const ee={key:0,class:"spinner"};function ne(e,n,t,o,r,s){return t.isLoading?((0,i.wg)(),(0,i.iD)("div",ee,[(0,i._)("div",{class:"spinner-inner",style:(0,L.j5)({"--spinnerSize":t.spinnerSize})},null,4)])):(0,i.kq)("",!0)}var te={props:{isLoading:{type:Boolean,required:!0},spinnerSize:{type:String,default:"30px"}}};const oe=(0,c.Z)(te,[["render",ne],["__scopeId","data-v-5d011efd"]]);var ie=oe,re={components:{SpinnerComponent:ie},setup(){const e=(0,I.iH)(!1),n=(0,I.iH)(!1),t=(0,I.iH)(!1),o=(0,I.iH)(""),r=(0,I.iH)(!1),s=(0,I.iH)(null),c=(0,i.f3)("clientService"),a=(0,l.tv)(),u=(0,i.Fl)((()=>4===o.value.length));function d(e){u.value&&"Tab"===e?.key&&(e.preventDefault(),s.value?.focus())}async function v(){if(!u.value)return;const e=await p();e?await a.push({name:"Home"}):h()}async function p(){r.value=!0,n.value=!1;let e=!1;try{e=await(c?.logInAsync(o.value))}catch(t){n.value=!0}return r.value=!1,e}function h(){e.value=!0,setTimeout((()=>t.value=!0),200)}function f(){e.value&&t.value&&(e.value=!1,t.value=!1)}return(0,i.bv)((()=>{e.value=!1,t.value=!1,o.value="",r.value=!1})),{hasError:e,hasInternetConnectionError:n,canRemoveError:t,textInput:o,canConnect:u,isValidating:r,onTab:d,onClickConnect:v,onClickLoginComponent:f}}};const se=(0,c.Z)(re,[["render",$],["__scopeId","data-v-75261644"]]);var ce=se;const ae=[{path:"/connect",name:"Connect",component:ce},{path:"/home",name:"Home",component:z},{path:"/:catchAll(.*)",redirect:"/home"}],ue=(0,l.p7)({history:(0,l.r5)("/rasBot-webApp/"),routes:ae});var le=ue,de=t(7795),ve=t(4287);let pe={apiKey:"",authDomain:"",projectId:"rasbot-44da5",storageBucket:"rasbot-44da5.appspot.com",messagingSenderId:"546171701856",appId:""};var he=pe;class fe{constructor(){(0,H.Z)(this,"_firebaseApp",null),(0,H.Z)(this,"_firestore",void 0),(0,H.Z)(this,"_rasBotCol",void 0),(0,H.Z)(this,"_robotId",null),this._firebaseApp=(0,de.ZF)(he),this._firestore=(0,ve.ad)(this._firebaseApp),this._rasBotCol=(0,ve.hJ)(this._firestore,"rasBots")}get isLoggedIn(){return!!this._robotId}async logInAsync(e){const n=await(0,ve.PL)(this._rasBotCol),t=n.docs.find((n=>{const t=n.data();return t.rasBotId===e})),o=t?.data();return this._robotId=o?o.rasBotId:null,this.isLoggedIn}logOut(){this._robotId=null}}const ge=(0,o.ri)(u),me=new fe;ge.provide("clientService",me),ge.use(le),ge.mount("#app")}},n={};function t(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,o,i,r){if(!o){var s=1/0;for(l=0;l<e.length;l++){o=e[l][0],i=e[l][1],r=e[l][2];for(var c=!0,a=0;a<o.length;a++)(!1&r||s>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[a])}))?o.splice(a--,1):(c=!1,r<s&&(s=r));if(c){e.splice(l--,1);var u=i();void 0!==u&&(n=u)}}return n}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[o,i,r]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.p="/rasBot-webApp/"}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var i,r,s=o[0],c=o[1],a=o[2],u=0;if(s.some((function(n){return 0!==e[n]}))){for(i in c)t.o(c,i)&&(t.m[i]=c[i]);if(a)var l=a(t)}for(n&&n(o);u<s.length;u++)r=s[u],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(l)},o=self["webpackChunkrasbot_webapp"]=self["webpackChunkrasbot_webapp"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(4753)}));o=t.O(o)})();
//# sourceMappingURL=app.3f6bb7fe.js.map