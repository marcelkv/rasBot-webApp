(function(){"use strict";var e={4314:function(e,t,n){var o=n(9242),i=n(3396);function r(e,t,n,o,r,s){const c=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(c)}var s=(0,i.aZ)({name:"App",beforeCreate(){document.title="RasBot"}}),c=n(89);const a=(0,c.Z)(s,[["render",r]]);var u=a,l=n(2483);const d={class:"home"};function v(e,t,n,o,r,s){const c=(0,i.up)("HeaderComponent"),a=(0,i.up)("JoyStickComponent");return(0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(c),(0,i.Wm)(a)])}const p={class:"header"};function h(e,t,n,o,r,s){const c=(0,i.up)("LogOutIconComponent");return(0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("div",{class:"logOutButton",title:"Log Out",onMouseenter:t[0]||(t[0]=e=>o.isHovered=!0),onMouseleave:t[1]||(t[1]=e=>o.isHovered=!1),onClick:t[2]||(t[2]=(...e)=>o.onLogOutClick&&o.onLogOutClick(...e))},[(0,i.Wm)(c,{size:"40px",color:o.color},null,8,["color"])],32)])}n(7658);const f={class:"LogOutIcon"},g=["fill","height","width"],m=(0,i.uE)('<g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g><g><g id="Sign_Out"><path d="M180.455,360.91H24.061V24.061h156.394c6.641,0,12.03-5.39,12.03-12.03s-5.39-12.03-12.03-12.03H12.03 C5.39,0.001,0,5.39,0,12.031V372.94c0,6.641,5.39,12.03,12.03,12.03h168.424c6.641,0,12.03-5.39,12.03-12.03 C192.485,366.299,187.095,360.91,180.455,360.91z"></path><path d="M381.481,184.088l-83.009-84.2c-4.704-4.752-12.319-4.74-17.011,0c-4.704,4.74-4.704,12.439,0,17.179l62.558,63.46H96.279 c-6.641,0-12.03,5.438-12.03,12.151c0,6.713,5.39,12.151,12.03,12.151h247.74l-62.558,63.46c-4.704,4.752-4.704,12.439,0,17.179 c4.704,4.752,12.319,4.752,17.011,0l82.997-84.2C386.113,196.588,386.161,188.756,381.481,184.088z"></path></g><g></g><g></g><g></g><g></g><g></g><g></g></g></g>',3),_=[m];function C(e,t,n,o,r,s){return(0,i.wg)(),(0,i.iD)("div",f,[((0,i.wg)(),(0,i.iD)("svg",{class:"svg",fill:o.fillColor,height:n.size,width:n.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384.971 384.971","xml:space":"preserve",stroke:"#ffffff"},_,8,g))])}var y={props:{size:{type:String,required:!0},color:{type:String,required:!1}},setup(e){const t=(0,i.Fl)((()=>e.color?e.color:"#ffffff"));return{fillColor:t}}};const w=(0,c.Z)(y,[["render",C]]);var I=w,b=n(4870),k={components:{LogOutIconComponent:I},setup(){let e=(0,b.iH)(!1);const t=(0,i.f3)("clientService"),n=(0,l.tv)(),o=(0,i.Fl)((()=>e.value?"red":"white"));function r(){t.isLoggedIn||n.push({name:"Connect"})}function s(){t.logOut(),r()}return(0,i.bv)((()=>r())),{color:o,isHovered:e,onLogOutClick:s}}};const S=(0,c.Z)(k,[["render",h],["__scopeId","data-v-f1328b9e"]]);var T=S,B=n(7139);const D={class:"joyStick"},O={ref:"ref_joyStickIn",class:"circleIn"};function L(e,t,n,o,r,s){return(0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("div",{ref:"ref_joyStickOut",class:"circleOut",style:(0,B.j5)(o.circleOutStyle),onTouchstart:t[0]||(t[0]=(...e)=>o.onTouchStart&&o.onTouchStart(...e)),onTouchmove:t[1]||(t[1]=(...e)=>o.onTouchMove&&o.onTouchMove(...e)),onTouchend:t[2]||(t[2]=(...e)=>o.onPointerUp&&o.onPointerUp(...e)),onMousedown:t[3]||(t[3]=(...e)=>o.onMouseDown&&o.onMouseDown(...e)),onMousemove:t[4]||(t[4]=(...e)=>o.onMouseMove&&o.onMouseMove(...e)),onMouseup:t[5]||(t[5]=(...e)=>o.onPointerUp&&o.onPointerUp(...e))},[(0,i._)("div",O,null,512)],36)])}var M=n(7327);class E{constructor(e,t){(0,M.Z)(this,"top",void 0),(0,M.Z)(this,"left",void 0),this.left=e,this.top=t}}class x{constructor(e,t,n,o,i){(0,M.Z)(this,"_outerRadius",void 0),(0,M.Z)(this,"_innerRadius",void 0),(0,M.Z)(this,"_centerX",void 0),(0,M.Z)(this,"_centerY",void 0),this.init(e,t,n,o,i)}init(e,t,n,o,i){this._outerRadius=e,this._innerRadius=t,this._centerX=o+i/2,this._centerY=n+i/2}getPosition(e,t){const n=e-this._centerX,o=t-this._centerY,i=Math.sqrt(n*n+o*o);let r=n,s=o;if(!this._isPointerInside(i)){const e=Math.atan2(o,n);r=Math.cos(e)*(this._outerRadius-this._innerRadius-100),s=Math.sin(e)*(this._outerRadius-this._innerRadius-100)}return r=this._roundToTwoDecimals(r),s=-1*this._roundToTwoDecimals(s),new E(r,s)}_isPointerInside(e){return e+100<=this._outerRadius-this._innerRadius}_roundToTwoDecimals(e){return parseFloat(e.toFixed(2))}}var H={setup(){const e=(0,b.iH)(null),t=(0,b.iH)(null),n=(0,b.iH)(!1),o=(0,b.iH)(0),r=(0,b.iH)(0);let s=null;const c=(0,i.f3)("clientService");(0,i.Jd)((()=>{_()}));const a=(0,i.Fl)((()=>({"--left":o.value+"px","--top":r.value+"px"})));function u(e){d(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}function l(e){d(e.clientX,e.clientY)}function d(e,t){n.value=!0,g(),m(),C(e,t)}function v(e){h(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}function p(e){h(e.clientX,e.clientY)}function h(e,t){n.value&&C(e,t)}function f(){n.value=!1,o.value=0,r.value=0,_()}function g(){const n=e.value,o=t.value;if(!n||!o)return;const i=n.getBoundingClientRect(),r=o.getBoundingClientRect();s=new x(i.width,r.width,i.top,i.left,i.width)}function m(){document.addEventListener("resize",(()=>g())),document.addEventListener("touchmove",v),document.addEventListener("touchend",f),document.addEventListener("mousemove",p),document.addEventListener("mouseup",f)}function _(){document.removeEventListener("resize",(()=>g())),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",f),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",f)}function C(e,t){const n=s.getPosition(e,t);o.value=n.left,r.value=n.top,c.setPosition(o.value,r.value)}return{ref_joyStickIn:t,ref_joyStickOut:e,circleOutStyle:a,onTouchStart:u,onTouchMove:v,onMouseDown:l,onMouseMove:p,onPointerUp:f}}};const R=(0,c.Z)(H,[["render",L],["__scopeId","data-v-07e4dbd2"]]);var Z=R,P={components:{JoyStickComponent:Z,HeaderComponent:T},setup(){return{}}};const j=(0,c.Z)(P,[["render",v],["__scopeId","data-v-4903dac0"]]);var z=j,A=n.p+"img/logo.4d296a4f.png";const F=e=>((0,i.dD)("data-v-75261644"),e=e(),(0,i.Cn)(),e),U=F((()=>(0,i._)("div",{class:"imageSection"},[(0,i._)("img",{class:"image",alt:"Vue logo",src:A})],-1))),V={class:"inputBoxSection"},X=F((()=>(0,i._)("label",{for:"robotId"},null,-1))),Y={key:0,class:"connectMsg"},q={key:0,class:"connectionError"},J=F((()=>(0,i._)("div",{class:"errorTitleItem"}," Oops! It seems you're currently offline. ",-1))),W=F((()=>(0,i._)("div",{class:"errorSecondaryItem center"}," Please check your internet connection and try again. ",-1))),K=[J,W],G={key:1,class:"connectionError"},N=(0,i.uE)('<div class="errorTitleItem" data-v-75261644> Cannot establish a connection to RasBot. </div><div class="errorSecondaryItem" data-v-75261644> Possible reasons for the connection issue: </div><div class="errorSecondaryItem" data-v-75261644> 1. Please check if the RobotId is correct. </div><div class="errorSecondaryItem" data-v-75261644> 2. Ensure that RasBot is turned on. </div><div class="errorSecondaryItem" data-v-75261644> 3. Make sure RasBot is connected to the internet. </div><div class="errorSecondaryItem" data-v-75261644> Please verify these steps to resolve the connection problem. </div>',6),Q=[N];function $(e,t,n,r,s,c){const a=(0,i.up)("SpinnerComponent");return(0,i.wg)(),(0,i.iD)("div",{class:"loginComponent",onClick:t[5]||(t[5]=(...e)=>r.onClickLoginComponent&&r.onClickLoginComponent(...e))},[U,(0,i._)("div",V,[X,(0,i.wy)((0,i._)("input",{class:"inputBox inputSection",type:"text",id:"robotId","onUpdate:modelValue":t[0]||(t[0]=e=>r.textInput=e),onKeyup:[t[1]||(t[1]=(0,o.D2)(((...e)=>r.onClickConnect&&r.onClickConnect(...e)),["enter"])),t[2]||(t[2]=(0,o.D2)(((...e)=>r.onTab&&r.onTab(...e)),["tab"]))],placeholder:"Robot ID"},null,544),[[o.nr,r.textInput]]),(0,i._)("div",{tabindex:"0",ref:"connectButton",class:(0,B.C_)(["submitButton inputSection",{canConnect:r.canConnect}]),onClick:t[3]||(t[3]=(...e)=>r.onClickConnect&&r.onClickConnect(...e)),onKeyup:t[4]||(t[4]=(0,o.D2)(((...e)=>r.onClickConnect&&r.onClickConnect(...e)),["enter"]))},[r.isValidating?((0,i.wg)(),(0,i.j4)(a,{key:1,class:"spinner","is-loading":r.isValidating,"spinner-size":"20px"},null,8,["is-loading"])):((0,i.wg)(),(0,i.iD)("div",Y,"Connect"))],34)]),r.hasError?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,B.C_)(["errorSection",{largeError:!r.hasInternetConnectionError}])},[(0,i._)("div",{class:(0,B.C_)(["errorWrapper",{isErrorReady:r.canRemoveError}])},[r.hasInternetConnectionError?((0,i.wg)(),(0,i.iD)("div",q,K)):((0,i.wg)(),(0,i.iD)("div",G,Q))],2)],2)):(0,i.kq)("",!0)])}const ee={key:0,class:"spinner"};function te(e,t,n,o,r,s){return n.isLoading?((0,i.wg)(),(0,i.iD)("div",ee,[(0,i._)("div",{class:"spinner-inner",style:(0,B.j5)({"--spinnerSize":n.spinnerSize})},null,4)])):(0,i.kq)("",!0)}var ne={props:{isLoading:{type:Boolean,required:!0},spinnerSize:{type:String,default:"30px"}}};const oe=(0,c.Z)(ne,[["render",te],["__scopeId","data-v-5d011efd"]]);var ie=oe,re={components:{SpinnerComponent:ie},setup(){const e=(0,b.iH)(!1),t=(0,b.iH)(!1),n=(0,b.iH)(!1),o=(0,b.iH)(""),r=(0,b.iH)(!1),s=(0,b.iH)(null),c=(0,i.f3)("clientService"),a=(0,l.tv)(),u=(0,i.Fl)((()=>4===o.value.length));function d(e){u.value&&"Tab"===e?.key&&(e.preventDefault(),s.value?.focus())}async function v(){if(!u.value)return;const e=await p();e?await a.push({name:"Home"}):h()}async function p(){r.value=!0,t.value=!1;let e=!1;try{e=await(c?.logInAsync(o.value))}catch(n){t.value=!0}return r.value=!1,e}function h(){e.value=!0,setTimeout((()=>n.value=!0),200)}function f(){e.value&&n.value&&(e.value=!1,n.value=!1)}return(0,i.bv)((()=>{e.value=!1,n.value=!1,o.value="",r.value=!1})),{hasError:e,hasInternetConnectionError:t,canRemoveError:n,textInput:o,canConnect:u,isValidating:r,onTab:d,onClickConnect:v,onClickLoginComponent:f}}};const se=(0,c.Z)(re,[["render",$],["__scopeId","data-v-75261644"]]);var ce=se;const ae=[{path:"/connect",name:"Connect",component:ce},{path:"/home",name:"Home",component:z},{path:"/:catchAll(.*)",redirect:"/home"}],ue=(0,l.p7)({history:(0,l.r5)("/rasBot-webApp/"),routes:ae});var le=ue,de=n(7795),ve=n(4287);let pe={apiKey:"",authDomain:"",projectId:"rasbot-44da5",storageBucket:"rasbot-44da5.appspot.com",messagingSenderId:"546171701856",appId:""};var he=pe;class fe{constructor(){(0,M.Z)(this,"_firebaseApp",null),(0,M.Z)(this,"_firestore",void 0),(0,M.Z)(this,"_rasBotCol",void 0),(0,M.Z)(this,"_robotId",null),(0,M.Z)(this,"_rasBotDocId",null),(0,M.Z)(this,"_isThrottled",!1),this._firebaseApp=(0,de.ZF)(he),this._firestore=(0,ve.ad)(this._firebaseApp),this._rasBotCol=(0,ve.hJ)(this._firestore,"rasBots")}get isLoggedIn(){return!!this._robotId&&!!this._rasBotDocId}async logInAsync(e){const t=await(0,ve.PL)(this._rasBotCol),n=t.docs.find((t=>{const n=t.data();return n.rasBotId===e})),o=n?.data();return o?(this._robotId=o.rasBotId,this._rasBotDocId=n.id):this._robotId=null,this.isLoggedIn}logOut(){this._robotId=null,this._rasBotDocId=null}setPosition(e,t){this.isLoggedIn&&(this._isThrottled||(this._isThrottled=!0,setTimeout((()=>this._isThrottled=!1),400),setTimeout((async()=>{const n=(0,ve.JU)(this._firestore,"rasBots",this._rasBotDocId);await(0,ve.r7)(n,{x:e,y:t,timeStamp:(0,ve.Bt)()})}),0)))}}const ge=(0,o.ri)(u),me=new fe;ge.provide("clientService",me),ge.use(le),ge.mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,r){if(!o){var s=1/0;for(l=0;l<e.length;l++){o=e[l][0],i=e[l][1],r=e[l][2];for(var c=!0,a=0;a<o.length;a++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[a])}))?o.splice(a--,1):(c=!1,r<s&&(s=r));if(c){e.splice(l--,1);var u=i();void 0!==u&&(t=u)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[o,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/rasBot-webApp/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,s=o[0],c=o[1],a=o[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(a)var l=a(n)}for(t&&t(o);u<s.length;u++)r=s[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},o=self["webpackChunkrasbot_webapp"]=self["webpackChunkrasbot_webapp"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4314)}));o=n.O(o)})();
//# sourceMappingURL=app.17333d27.js.map